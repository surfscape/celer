<Window
    x:Class="Celer.Views.Windows.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:model="clr-namespace:Celer.Models"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:uc="clr-namespace:Celer.Views.UserControls.MainApp"
    xmlns:viewmodels="clr-namespace:Celer.ViewModels"
    Title="Celer"
    MinWidth="940"
    MinHeight="620"
    MaxWidth="940"
    ResizeMode="CanMinimize"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        WindowStartupLocation="CenterScreen"
        xmlns:local="clr-namespace:Celer.Utilities"
        xmlns:mainwindow="clr-namespace:Celer.Views.UserControls.MainWindow"
        d:DataContext="{d:DesignInstance Type=viewmodels:MainWindowViewModel}"
        mc:Ignorable="d">
    <Window.Resources>
        <Style TargetType="ContentControl">
            <Setter Property="Focusable"
                    Value="False"></Setter>
        </Style>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Border Padding="4,0,0,4">
        <ContentControl Content="{Binding MenuBarControl}" Focusable="False" />
        </Border>
        <Border Grid.Row="1" >
            <Grid Margin="0,0,0,0">
                <local:CompactTabControl  SelectedIndex="{Binding SelectedTabIndex}"
                                          CompactMode="{Binding TabControlCompactMode, Mode=TwoWay}"
                            Style="{StaticResource CelerStripTabLeft}"
                            Margin="0,0,0,0">
                    <local:CompactTabControl.Resources>
                        <Style TargetType="{x:Type iconPacks:PackIconLucide}">
                            <Setter Property="Margin"
                                    Value="0,0,8,0" />
                            <Setter Property="Width"
                                    Value="14" />
                            <Setter Property="Height"
                                    Value="14" />
                            <Setter Property="VerticalAlignment"
                                    Value="Center" />
                            <Setter Property="Foreground"
                                    Value="{DynamicResource SecondaryText}" />
                        </Style>
                    </local:CompactTabControl.Resources>
                    <TabItem>
                        <TabItem.Header>
                            <model:TabHeaderData Title="Dashboard" Icon="Activity" />
                        </TabItem.Header>
                        <ContentControl HorizontalAlignment="Stretch" Content="{Binding DashboardControl}" />
                    </TabItem>
                    <TabItem  ToolTip="Cleaning">
                        <TabItem.Header>
                            <model:TabHeaderData Title="Cleaning" Icon="Trash2" />
                        </TabItem.Header>
                        <ContentControl HorizontalAlignment="Stretch" Content="{Binding LimpezaControl}" />
                    </TabItem>
                    <TabItem  ToolTip="Optimization">
                        <TabItem.Header>
                            <model:TabHeaderData Title="Optimization" Icon="Rocket" />
                        </TabItem.Header>
                        <ContentControl HorizontalAlignment="Stretch" Content="{Binding OptimizationControl}" />
                    </TabItem>
                    <TabItem  ToolTip="Maintenance">
                        <TabItem.Header>
                            <model:TabHeaderData Title="Maintenance" Icon="Construction" />
                        </TabItem.Header>
                        <ContentControl HorizontalAlignment="Stretch" Content="{Binding MaintenanceControl}" />
                    </TabItem>
                    <TabItem  ToolTip="Privacy">
                        <TabItem.Header>
                            <model:TabHeaderData Title="Privacy &amp; Security" Icon="Shield" />
                        </TabItem.Header>
                        <uc:Privacidade HorizontalAlignment="Stretch" />
                    </TabItem>
                </local:CompactTabControl>
            </Grid>
        </Border>
        <tb:TaskbarIcon IconSource="/Resources/Assets/celer_256.png"
                        ToolTipText="Celer">
            <tb:TaskbarIcon.TrayPopup>
                <mainwindow:QuickCenter></mainwindow:QuickCenter>
            </tb:TaskbarIcon.TrayPopup>
            <tb:TaskbarIcon.ContextMenu>
                <ContextMenu x:Name="QCMenu">
                    <MenuItem Header="Open"
                              Command="{Binding QCOpenAppCommand}" />
                    <MenuItem Header="Exit"
                              Command="{Binding QCExitAppCommand}" />
                </ContextMenu>
            </tb:TaskbarIcon.ContextMenu>
        </tb:TaskbarIcon>
    </Grid>
</Window>

